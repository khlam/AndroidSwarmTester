import commands
import sys
import os
import random

def replace(filename, old, new):
        s=open(filename).read()
        if old in s:
                print 'Changed "{old}" to "{new}"'.format(**locals())
                s=s.replace(old, new)
                f=open(filename, 'w')
                f.write(s)
                f.flush()
                f.close()
        else:
                print 'No occurances of "{old}" found. Advise running SwarmReset.py'.format


def randomChoose1():
	var = random.randrange(0,2+1)
	print var
	if var == 0:
		print "Using normal"
		replace('dummyfile.go', "'normal', 'keyed'", "'normal'")
	elif var == 1:
		print "Using keyed"
		replace('dummyfile.go', "'normal', 'keyed'", "'keyed'")
	elif var == 2:
		print "Using normal + keyed"
	

#os.system ("go build gosmith")
#print "Gosmith built"
#print "Replacing" "with"

#path = '/nfs/guille/groce/users/lamki/Desktop/gosmith/src'

#mycwd = os.getcwd()

#actionchoice = ["'normal', ", "'keyed'"]
#choice = filter( lambda x: random.randint(0,1) == 0, actionchoice)

os.chdir ("..")
os.chdir ("/nfs/guille/groce/users/lamki/Desktop/gosmith/src/gosmith")

randomChoose1()

#os.chdir (mycwd)



#os.system ("go run driver.go -checkers=amd64,386,arm,exec")
#print "Running Test"
